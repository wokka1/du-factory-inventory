{
    "slots":{
        "0":{"name":"slot1","type":{"events":[],"methods":[]}},
        "-1":{"name":"unit","type":{"events":[],"methods":[]}},
        "-3":{"name":"player","type":{"events":[],"methods":[]}},
        "-4":{"name":"system","type":{"events":[],"methods":[]}}
    },
    "handlers":[
        {
            "code":"-- Signal Repeater: Outputs a signal, pauses 250ms, repeats 10 times\n-- IMPORTANT: Connect a Manual Switch to slot1 on the programming board\n\n_G.repeatCount = 0\n_G.maxRepeats = 10\n_G.signalDelay = 0.25  -- 250ms in seconds\n\nsystem.print(\"=\" .. string.rep(\"=\", 40))\nsystem.print(\"Signal Repeater Started\")\nsystem.print(\"REQUIRES: Manual Switch on slot1\")\nsystem.print(\"Will pulse 10 times with 250ms pause\")\nsystem.print(\"=\" .. string.rep(\"=\", 40))\n\n-- Activate first signal\nslot1.activate()\n_G.repeatCount = 1\nsystem.print(\"[\" .. _G.repeatCount .. \"/\" .. _G.maxRepeats .. \"] ON\")\n\n-- Schedule to turn off after 50ms\nunit.setTimer(\"signal_off\", 0.05)",
            "filter":{"args":[],"signature":"onStart()","slotKey":"-1"},
            "key":"0"
        },
        {
            "code":"-- Timer handler: manages signal pulses\n\nif timerId == \"signal_off\" then\n    -- Turn signal off\n    slot1.deactivate()\n    system.print(\"[\" .. _G.repeatCount .. \"/\" .. _G.maxRepeats .. \"] OFF\")\n    \n    -- Wait 250ms before next pulse\n    if _G.repeatCount < _G.maxRepeats then\n        unit.setTimer(\"signal_on\", _G.signalDelay)\n    else\n        system.print(\"=\" .. string.rep(\"=\", 40))\n        system.print(\"ALL PULSES COMPLETE!\")\n        system.print(\"=\" .. string.rep(\"=\", 40))\n    end\n    \nelseif timerId == \"signal_on\" then\n    -- Turn signal on for next pulse\n    slot1.activate()\n    _G.repeatCount = _G.repeatCount + 1\n    system.print(\"[\" .. _G.repeatCount .. \"/\" .. _G.maxRepeats .. \"] ON\")\n    \n    -- Schedule to turn off after 50ms\n    unit.setTimer(\"signal_off\", 0.05)\nend",
            "filter":{"args":[{"value":"*"}],"signature":"tick(timerId)","slotKey":"-1"},
            "key":"1"
        }
    ],
    "methods":[],
    "events":[]
}
